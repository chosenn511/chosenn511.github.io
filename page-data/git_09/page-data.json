{"componentChunkName":"component---src-templates-post-tsx","path":"/git_09/","result":{"data":{"markdownRemark":{"html":"<p>Git은 서로 다른 세 개의 트리를 관리하는 컨텐츠 관리자라고 할 수 있다. 트리(<code class=\"language-text\">tree</code>)란 실제로 <code class=\"language-text\">파일의 묶음</code>을 의미한다. 블롭(<code class=\"language-text\">blob</code>)은 깃에서 개별 파일을 일컫는 단어이다.<br></p>\n<br>\n<h2 id=\"세-개의-트리\" style=\"position:relative;\"><a href=\"#%EC%84%B8-%EA%B0%9C%EC%9D%98-%ED%8A%B8%EB%A6%AC\" aria-label=\"세 개의 트리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세 개의 트리</h2>\n<table>\n<thead>\n<tr>\n<th align=\"center\">트리</th>\n<th align=\"center\">역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">HEAD</td>\n<td align=\"center\">마지막 커밋 스냅샷, 다음 커밋의 부모가 되는 커밋</td>\n</tr>\n<tr>\n<td align=\"center\">index</td>\n<td align=\"center\">다음에 커밋할 스냅샷</td>\n</tr>\n<tr>\n<td align=\"center\">워킹 디렉토리</td>\n<td align=\"center\">샌드박스</td>\n</tr>\n</tbody>\n</table>\n<br>\n<h3 id=\"1-head\" style=\"position:relative;\"><a href=\"#1-head\" aria-label=\"1 head permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>(1) HEAD</strong></h3>\n<p>: 현재 브랜치를 가리키는 포인터를 <code class=\"language-text\">HEAD</code>라고 한다. 이 때의 브랜치는 가장 최신의 커밋을 가리키고 있다. HEAD가 가리키는 커밋은 바로 다음 커밋의 부모라고도 부른다.</p>\n<ul>\n<li>\n<p>HEAD의 스냅샷</p>\n<ul>\n<li>\n<p><code class=\"language-text\">plumbing</code> 명령(저수준 명령)을 사용하여 HEAD의 위치를 볼 수 있다.</p>\n<ul>\n<li><code class=\"language-text\">cat-file</code>, <code class=\"language-text\">ls-tree</code>등의 명령어를 사용하여 HEAD의 주소값을 출력해볼 수 있다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;git cat-file -p HEAD&gt;\ntree b70c5e654741b75f33318eff6e01cc0b4bb99292\nauthor juliahwang-imac &lt;qufskan9396@gmail.com&gt; 1494936369 +0900\ncommitter juliahwang-imac &lt;qufskan9396@gmail.com&gt; 1494936369 +0900\n\n&lt;git ls-tree -r HEAD&gt;\n100644 blob f748449c30d29e135e94854872d8948ae2688a9a stash1.txt\n100644 blob e1e398af1512dbb124ca069d9ca543f0edf337ea stash2.txt</code></pre></div>\n</li>\n</ul>\n<br>\n<h3 id=\"2-index\" style=\"position:relative;\"><a href=\"#2-index\" aria-label=\"2 index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>(2) Index</strong></h3>\n<p>: 바로 다음에 커밋할 파일들을 의미한다. 즉, Staging area에 있는 파일들이다.</p>\n<p>워킹 디렉토리에서 마지막으로 체크아웃한 브랜치의 파일목록과 파일 내용으로 채워진다. 인덱스는 트리가 아니라 평평한 구조로 되어있다(<del>엄밀히 트리구조는 아니다.</del>)</p>\n<ul>\n<li>여기서 파일 내용을 수정한 후 commit하면 index는 새로운 커밋으로 변환된다.</li>\n<li>커밋을 시키고 남은 것이 없으므로...</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">100644 9cd125baa1b6833ae1e9743d6ce7a7811eb93d64 0\t.gitignore\n100644 1e58f894f8d97f10a1d37a6f0b6bea71c7314ed7 0\tstash1.txt\n100644 85e147a0dbaae5dff433a5116ed4781359204871 0\tstash2.txt</code></pre></div>\n<br>\n<h3 id=\"3-워킹-디렉토리\" style=\"position:relative;\"><a href=\"#3-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC\" aria-label=\"3 워킹 디렉토리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>(3) 워킹 디렉토리</strong></h3>\n<p>: HEAD와 Index가 .git에 저장하는 형태는 알아보기 어려우므로 tree로 구조화해서 보여준다.</p>\n<p>워킹 디렉토리는 실제 파일로 눈에 보이기 때문에 편집하기 수월하다. 샌드박스. 커밋하기 전에는 staging area에 올려놓고 수정, 변경이 가능한 상태다.</p>\n<h4 id=\"샌드박스\" style=\"position:relative;\"><a href=\"#%EC%83%8C%EB%93%9C%EB%B0%95%EC%8A%A4\" aria-label=\"샌드박스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>샌드박스?</h4>\n<p>실험적 의미의 프로그램을 연결하는 곳을 지칭하기도 한다.\n따라서, 실제 적용 이전에 먼저 샌드박스로 연결하여 테스트하라는 것은\n작동은 실제와 같으나 금융상 또는 법률상의 실제행위는 일어나지 않는 것을 뜻한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">tree\n.\n├── stash1.txt\n└── stash2.txt\n\n0 directories, 2 files</code></pre></div>\n<br>\n<h2 id=\"워크플로우\" style=\"position:relative;\"><a href=\"#%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0\" aria-label=\"워크플로우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>워크플로우</h2>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-workflow.png\" alt=\"워크플로우\"></p>\n<br>\n<h3 id=\"1-워킹-디렉토리에-파일-생성\" style=\"position:relative;\"><a href=\"#1-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC%EC%97%90-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\" aria-label=\"1 워킹 디렉토리에 파일 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) 워킹 디렉토리에 파일 생성</h3>\n<ul>\n<li>v1의 파일을 생성하고 <code class=\"language-text\">git init</code>하면 git 저장소가 생긴다.</li>\n<li>이 때, HEAD는 아직 생성되지 않은 브랜치를 가리킨다.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-ex1.png\" alt=\"워크플로우1\"></p>\n<br>\n<h3 id=\"2-staging-area로-워킹-디렉토리-내용을-index로-복사\" style=\"position:relative;\"><a href=\"#2-staging-area%EB%A1%9C-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EB%82%B4%EC%9A%A9%EC%9D%84-index%EB%A1%9C-%EB%B3%B5%EC%82%AC\" aria-label=\"2 staging area로 워킹 디렉토리 내용을 index로 복사 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) staging area로 워킹 디렉토리 내용을 index로 복사</h3>\n<ul>\n<li>워킹디렉토리에서 <code class=\"language-text\">git add</code>로 staging area로 이동하면 index에 저장.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-ex2.png\" alt=\"워크플로우2\"></p>\n<br>\n<h3 id=\"3-커밋\" style=\"position:relative;\"><a href=\"#3-%EC%BB%A4%EB%B0%8B\" aria-label=\"3 커밋 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) 커밋</h3>\n<ul>\n<li><code class=\"language-text\">git commit</code>을 통해 index의 내용을 스냅샷으로 영구히 저장.</li>\n<li>스냅샷을 가리키는 커밋 객체를 만든다.</li>\n<li>이 때, ==브랜치 'master'가 커밋 객체를 가리키게 된다==</li>\n<li><code class=\"language-text\">git status</code> 를 확인하면 아무런 변경사항이 없다. 세 트리가 같은 내용이므로.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-ex3.png\" alt=\"워크플로우3\"></p>\n<br>\n<h3 id=\"4-파일-수정modified\" style=\"position:relative;\"><a href=\"#4-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95modified\" aria-label=\"4 파일 수정modified permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(4) 파일 수정(Modified)</h3>\n<ul>\n<li>워킹 디렉토리 파일을 고친다.(v2)</li>\n<li>이 경우 워킹디렉토리의 내용이 index의 내용과 달라졌기 때문에</li>\n<li><code class=\"language-text\">changes not staged for commit</code>으로 출력된다.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-ex4.png\" alt=\"워크플로우4\"></p>\n<br>\n<h3 id=\"5-수정파일-commit하기\" style=\"position:relative;\"><a href=\"#5-%EC%88%98%EC%A0%95%ED%8C%8C%EC%9D%BC-commit%ED%95%98%EA%B8%B0\" aria-label=\"5 수정파일 commit하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(5) 수정파일 commit하기</h3>\n<ul>\n<li><code class=\"language-text\">git add</code>를 하면 상태가 <code class=\"language-text\">Changes to be commited</code>로 바뀐다.</li>\n<li>즉, 다음 커밋할 것과 마지막 커밋이 다르다는 말.</li>\n<li><code class=\"language-text\">git commit</code> 해준다.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-ex5.png\" alt=\"워크플로우5\"></p>\n<br>\n<h3 id=\"6-브랜치를-바꿀경우-clone할-경우\" style=\"position:relative;\"><a href=\"#6-%EB%B8%8C%EB%9E%9C%EC%B9%98%EB%A5%BC-%EB%B0%94%EA%BF%80%EA%B2%BD%EC%9A%B0-clone%ED%95%A0-%EA%B2%BD%EC%9A%B0\" aria-label=\"6 브랜치를 바꿀경우 clone할 경우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(6) 브랜치를 바꿀경우? clone할 경우?</h3>\n<ul>\n<li>같은 원리로, 브랜치를 checkout하면</li>\n<li>HEAD가 새로운 브랜치를 가리키고</li>\n<li>Index에는 새로운 커밋 스냅샷이 놓인다.</li>\n<li>그리고 Index의 내용을 워킹디렉토리로 복사한다.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-ex6.png\" alt=\"워크플로우6\"></p>\n<br>\n<h2 id=\"reset의-역할\" style=\"position:relative;\"><a href=\"#reset%EC%9D%98-%EC%97%AD%ED%95%A0\" aria-label=\"reset의 역할 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RESET의 역할</h2>\n<p>파일하나를 수정하고 커밋하는 일을 3번 반복했을 때 아래와 같다.</p>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-start.png\" alt=\"리셋의역할\"></p>\n<br>\n<h3 id=\"1--head-이동-code-classlanguage-textgit-reset---soft-headcode\" style=\"position:relative;\"><a href=\"#1--head-%EC%9D%B4%EB%8F%99-code-classlanguage-textgit-reset---soft-headcode\" aria-label=\"1  head 이동 code classlanguage textgit reset   soft headcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1)  HEAD 이동 <code class=\"language-text\">git reset --soft HEAD~</code></h3>\n<ul>\n<li>reset은 제일먼저 HEAD 브랜치를 이전 커밋으로 이동시킨다.</li>\n<li>단, 브랜치가 이동하는 것은 아니다(checkout 아님)</li>\n<li><code class=\"language-text\">git reset 9e6e6a4</code> -> master가 9e6e6a4체크썸을 가진 커밋으로 이동한다.</li>\n<li><code class=\"language-text\">git reset --soft HEAD~</code>를 이용하면 HEAD 이동만 하고 멈춘다.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-soft.png\" alt=\"리셋의역할1\"></p>\n<br>\n<h3 id=\"2-index-업데이트-code-classlanguage-textgit-reset---mixed-headcode\" style=\"position:relative;\"><a href=\"#2-index-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-code-classlanguage-textgit-reset---mixed-headcode\" aria-label=\"2 index 업데이트 code classlanguage textgit reset   mixed headcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) Index 업데이트 <code class=\"language-text\">git reset --mixed HEAD~</code></h3>\n<ul>\n<li><code class=\"language-text\">git status</code> 명령을 실행하면 index와 HEAD의 다른 점이 녹색으로 출력된다.</li>\n<li><code class=\"language-text\">git reset --mixed HEAD</code>를 쓰면 index에 HEAD의 스냅샷을 업데이트한다.</li>\n<li>==즉, commit을 되돌리고 staging area를 비운다는 말은 git add까지 reset 한다는 뜻이다.==</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-mixed.png\" alt=\"리셋의역할2\"></p>\n<br>\n<h3 id=\"3-워킹-디렉토리-업데이트-code-classlanguage-textgit-reset---hard-headcode\" style=\"position:relative;\"><a href=\"#3-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-code-classlanguage-textgit-reset---hard-headcode\" aria-label=\"3 워킹 디렉토리 업데이트 code classlanguage textgit reset   hard headcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) 워킹 디렉토리 업데이트 <code class=\"language-text\">git reset --hard HEAD~</code></h3>\n<ul>\n<li><code class=\"language-text\">git reset --hard HEAD~</code> 명령은 디렉토리의 내용까지 되돌릴 수 있다.</li>\n<li>git에서 데이터를 삭제시킬 수 있는 명령이므로 되돌릴 수 없으니 주의해야한다.</li>\n</ul>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-hard.png\" alt=\"리셋의역할3\"></p>\n<br>\n<blockquote>\n<p>reset 명령은 정해진 순서대로 세 개의 트리를 덮어써 나가다가 옵션에 따라 지정한 곳에서 멈춘다.</p>\n</blockquote>\n<blockquote>\n<ol>\n<li>HEAD가 가리키는 브랜치를 옮긴다. (--soft 옵션이 붙으면 여기까지)</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"2\">\n<li>Index를 HEAD가 가리키는 상태로 만든다. (--hard 옵션이 붙지 않았으면 여기까지)</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"3\">\n<li>워킹 디렉토리를 Index의 상태로 만든다.</li>\n</ol>\n</blockquote>\n<br>\n<h3 id=\"경로를-주고-reset하기\" style=\"position:relative;\"><a href=\"#%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EC%A3%BC%EA%B3%A0-reset%ED%95%98%EA%B8%B0\" aria-label=\"경로를 주고 reset하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>경로를 주고 reset하기</h3>\n<p><code class=\"language-text\">reset</code>할 때 경로를 지정하면 HEAD 이동을 건너뛰고 정해진 경로의 파일에만 reset을 적용한다. index나 워킹디렉토리에 일부분만 갱신할 수 있다. 따라서 특정 파일만 HEAD에서 index로 복사하는 기능이다.</p>\n<p><code class=\"language-text\">git reset file.txt</code> = <code class=\"language-text\">git reset --mixed HEAD file.txt</code></p>\n<blockquote>\n<ol>\n<li>브랜치를 옮긴다. (건너뜀)</li>\n<li>index를 HEAD가 가리키는 상태로 만든다. (여기서 멈춤)</li>\n<li>이 명령은 워킹디렉토리의 파일을 unstaged 상태로 만든다. (가져와서 staging area에 붙여넣었으므로 최신 파일은 unstaged되는 것)</li>\n</ol>\n</blockquote>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-path1.png\" alt=\"경로주고reset\"></p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git reset eb43bf -- file.txt`</code></pre></div>\n<blockquote>\n<ol>\n<li>커밋에서 v1파일을 가져와 인덱스에 붙여넣는다.</li>\n<li>index에 있는 파일을 커밋하면 head에는 v1의 정보가 저장된다.(=이전으로 복원된다.)</li>\n</ol>\n</blockquote>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-path3.png\" alt=\"경로주고reset1\"></p>\n<br>\n<p><code class=\"language-text\">git reset --patch</code></p>\n<blockquote>\n<ol>\n<li>패치옵션으로 Hunk단위로 unstaged 상태를 만들 수 있다.</li>\n</ol>\n</blockquote>\n<br>\n<h3 id=\"커밋-합치기squash\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EB%B0%8B-%ED%95%A9%EC%B9%98%EA%B8%B0squash\" aria-label=\"커밋 합치기squash permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>커밋 합치기(squash)</h3>\n<p>: develop파일과 production파일을 합치고 싶을 때.</p>\n<p><code class=\"language-text\">git reset --soft HEAD~2</code></p>\n<blockquote>\n<ol>\n<li>2단계 이전의 커밋으로 HEAD가 이동한 상태.</li>\n<li>최신버전의 워킹 디렉토리 파일을 add, commit한다.</li>\n<li>master브랜치는 최신 내용과 첫 v1이 합쳐진 파일을 가지게 된다.</li>\n<li>v2는 더이상 히스토리에 없다.</li>\n</ol>\n</blockquote>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-squash-r2.png\" alt=\"squash\"></p>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-squash-r3.png\" alt=\"squash\"></p>\n<br>\n<h2 id=\"checkout\" style=\"position:relative;\"><a href=\"#checkout\" aria-label=\"checkout permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Checkout</h2>\n<p><strong>(1) 경로가 없을 때</strong></p>\n<p><code class=\"language-text\">git checkout [브랜치명]</code> : 브랜치로 이동한다.</p>\n<p>차이 1</p>\n<ul>\n<li><code class=\"language-text\">reset --hard</code>와 달리 매우 안전하게 워킹디렉토리를 다룬다.</li>\n<li>워킹디렉토리에서 merge를 해보고 변경안된 파일만 업데이트하기 때문.</li>\n</ul>\n<p>차이 2</p>\n<ul>\n<li>HEAD 자체를 다른 브랜치로 옮긴다.</li>\n<li>reset은 HEAD가 가리키는 브랜치를 옮긴다.</li>\n</ul>\n<p>차이 3</p>\n<ul>\n<li>HEAD 와 브랜치가 함께 이동하는가? -> reset</li>\n<li>HEAD가 가리키는 브랜치가 바뀌는가? -> checkout</li>\n<li>아래 그림 참고</li>\n</ul>\n<blockquote>\n<p>예를 들어 각각 다른 커밋을 가리키는 master<code class=\"language-text\">와</code>develop 브랜치가 있고 현재 워킹 디렉토리는 develop 브랜치라고 가정해보자(즉 HEAD는 develop 브랜치를 가리킨다). git reset master 명령을 실행하면 develop 브랜치는 master 브랜치가 가리키는 커밋과 같은 커밋을 가리키게 된다. 반면 git checkout master 명령을 실행하면 develop 브랜치가 가리키는 커밋은 바뀌지 않고 HEAD가 master 브랜치를 가리키도록 업데이트된다. 이제 HEAD는 master 브랜치를 가리키게 된다.</p>\n</blockquote>\n<p>그래서 위 두 경우 모두 HEAD는 결과적으로 A 커밋을 가리키게 되지만 방식은 완전히 다르다. reset 명령은 HEAD가 가리키는 브랜치의 포인터를 옮겼고 checkout 명령은 HEAD 자체를 옮겼다.</p>\n<p><img src=\"https://git-scm.com/book/en/v2/images/reset-checkout.png\" alt=\"checkout\"></p>\n<br>\n<p>(2) 경로가 있을 때</p>\n<p>: reset 과 동일하게 HEAD를 움직일 수도 없고 안전하지 않다.</p>\n<p><code class=\"language-text\">git reset --hard [branch] file</code> 과 동일</p>\n<br>\n<p>**<a href=\"https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-Reset-%EB%AA%85%ED%99%95%ED%9E%88-%EC%95%8C%EA%B3%A0-%EA%B0%80%EA%B8%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">reset 또는 checkout하기 전에 안전한가? 살펴보기</a></p>","excerpt":"Git은 서로 다른 세 개의 트리를 관리하는 컨텐츠 관리자라고 할 수 있다. 트리()란 실제로 을 의미한다. 블롭()은 깃에서 개별 파일을 일컫는 단어이다. 세 개의 트리 트리 역할 HEAD 마지막 커밋 스냅샷, 다음 커밋의 부모가 되는 커밋 ind…","tableOfContents":"<ul>\n<li>\n<p><a href=\"/git_09/#%EC%84%B8-%EA%B0%9C%EC%9D%98-%ED%8A%B8%EB%A6%AC\">세 개의 트리</a></p>\n<ul>\n<li><a href=\"/git_09/#1-head\"><strong>(1) HEAD</strong></a></li>\n<li><a href=\"/git_09/#2-index\"><strong>(2) Index</strong></a></li>\n<li><a href=\"/git_09/#3-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC\"><strong>(3) 워킹 디렉토리</strong></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/git_09/#%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0\">워크플로우</a></p>\n<ul>\n<li><a href=\"/git_09/#1-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC%EC%97%90-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\">(1) 워킹 디렉토리에 파일 생성</a></li>\n<li><a href=\"/git_09/#2-staging-area%EB%A1%9C-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EB%82%B4%EC%9A%A9%EC%9D%84-index%EB%A1%9C-%EB%B3%B5%EC%82%AC\">(2) staging area로 워킹 디렉토리 내용을 index로 복사</a></li>\n<li><a href=\"/git_09/#3-%EC%BB%A4%EB%B0%8B\">(3) 커밋</a></li>\n<li><a href=\"/git_09/#4-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95modified\">(4) 파일 수정(Modified)</a></li>\n<li><a href=\"/git_09/#5-%EC%88%98%EC%A0%95%ED%8C%8C%EC%9D%BC-commit%ED%95%98%EA%B8%B0\">(5) 수정파일 commit하기</a></li>\n<li><a href=\"/git_09/#6-%EB%B8%8C%EB%9E%9C%EC%B9%98%EB%A5%BC-%EB%B0%94%EA%BF%80%EA%B2%BD%EC%9A%B0-clone%ED%95%A0-%EA%B2%BD%EC%9A%B0\">(6) 브랜치를 바꿀경우? clone할 경우?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/git_09/#reset%EC%9D%98-%EC%97%AD%ED%95%A0\">RESET의 역할</a></p>\n<ul>\n<li><a href=\"/git_09/#1--head-%EC%9D%B4%EB%8F%99-code-classlanguage-textgit-reset---soft-headcode\">(1)  HEAD 이동 <code class=\"language-text\">git reset --soft HEAD~</code></a></li>\n<li><a href=\"/git_09/#2-index-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-code-classlanguage-textgit-reset---mixed-headcode\">(2) Index 업데이트 <code class=\"language-text\">git reset --mixed HEAD~</code></a></li>\n<li><a href=\"/git_09/#3-%EC%9B%8C%ED%82%B9-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-code-classlanguage-textgit-reset---hard-headcode\">(3) 워킹 디렉토리 업데이트 <code class=\"language-text\">git reset --hard HEAD~</code></a></li>\n<li><a href=\"/git_09/#%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EC%A3%BC%EA%B3%A0-reset%ED%95%98%EA%B8%B0\">경로를 주고 reset하기</a></li>\n<li><a href=\"/git_09/#%EC%BB%A4%EB%B0%8B-%ED%95%A9%EC%B9%98%EA%B8%B0squash\">커밋 합치기(squash)</a></li>\n</ul>\n</li>\n<li><a href=\"/git_09/#checkout\">Checkout</a></li>\n</ul>","fields":{"slug":"/git_09/"},"frontmatter":{"title":"Git _ Reset 명확히 알고 가기","date":"Jun 15, 2017","tags":["Git"],"keywords":["Development Note","bbrubi"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/git_09/","series":[{"slug":"/git_01/","title":"Git _ 파일 삭제를 위한 clean 명령어 사용하기","num":1},{"slug":"/git_02/","title":"Git _ 협업을 위한 stash 명령어 사용하기","num":2},{"slug":"/git_03/","title":"Git _ 버전관리 상태 수정하기","num":3},{"slug":"/git_04/","title":"Git _ 제외시킬 파일 관리하기","num":4},{"slug":"/git_05/","title":"Git _ 원격저장소 연결하기","num":5},{"slug":"/git_06/","title":"Git _ 태그 관리하기","num":6},{"slug":"/git_07/","title":"Git _ 도구 검색","num":7},{"slug":"/git_08/","title":"Git _ 히스토리 단장하기","num":8},{"slug":"/git_09/","title":"Git _ Reset 명확히 알고 가기","num":9}],"lastmod":"2017-06-15"}},"staticQueryHashes":["2027115977","694178885"]}